
#include "gd32vf103.h"
#include "spi.h"
#include "timer.h"
#include "gd32vf103_it.h"

#define TEST_ARRAYSIZE		40

const uint16_t test_spi_value_array[TEST_ARRAYSIZE] = { 
0x1FEC,  0x1FED, 0x1FEE, 0x1FEF, 0x1FF0, 0x1FF1, 0x1FF2, 0x1FF3, 0x1FF4, 0x1FF5, 0x1FF6, 0x1FF7, 0x1FF8, 0x1FF9, 0x1FFA, 0x1FFB, 0x1FFC, 0x1FFD, 0x1FFE, 0x1FFF,  
0x2FEC, 0x2FED, 0x2FEE, 0x2FEF, 0x2FF0, 0x2FF1, 0x2FF2, 0x2FF3, 0x2FF4, 0x2FF5, 0x2FF6, 0x2FF7, 0x2FF8, 0x2FF9, 0x2FFA, 0x2FFB, 0x2FFC, 0x2FFD, 0x2FFE, 0x2FFF 
}; 

int main(){
	rcu_periph_clock_enable(RCU_GPIOB);
    gpio_init(GPIOB, GPIO_MODE_OUT_PP, GPIO_OSPEED_50MHZ, GPIO_PIN_0);

	eclic_global_interrupt_enable();
	spi1_slave_init();
	timer1_init();

	while(1){
		// interrupts do the rest....
	}
}
