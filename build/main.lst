GAS LISTING /tmp/ccS4cf1i.s 			page 1


   1              		.file	"main.c"
   2              		.option nopic
   3              		.attribute arch, "rv32i2p0_m2p0_a2p0_c2p0"
   4              		.attribute unaligned_access, 0
   5              		.attribute stack_align, 16
   6              		.text
   7              	.Ltext0:
   8              		.cfi_sections	.debug_frame
   9              		.section	.text.startup.main,"ax",@progbits
  10              		.align	1
  11              		.globl	main
  13              	main:
  14              	.LFB2:
  15              		.file 1 "main.c"
   1:main.c        **** 
   2:main.c        **** #include "gd32vf103.h"
   3:main.c        **** #include "spi.h"
   4:main.c        **** #include "timer.h"
   5:main.c        **** #include "gd32vf103_it.h"
   6:main.c        **** 
   7:main.c        **** const uint16_t test_spi_value_array[40] = { 
   8:main.c        **** 0x1FEC,  0x1FED, 0x1FEE, 0x1FEF, 0x1FF0, 0x1FF1, 0x1FF2, 0x1FF3, 0x1FF4, 0x1FF5, 0x1FF6, 0x1FF7, 0x
   9:main.c        **** 0x2FEC, 0x2FED, 0x2FEE, 0x2FEF, 0x2FF0, 0x2FF1, 0x2FF2, 0x2FF3, 0x2FF4, 0x2FF5, 0x2FF6, 0x2FF7, 0x2
  10:main.c        **** }; 
  11:main.c        **** 
  12:main.c        **** int main(){
  16              		.loc 1 12 11
  17              		.cfi_startproc
  13:main.c        **** 	rcu_periph_clock_enable(RCU_GPIOB);
  18              		.loc 1 13 2
  12:main.c        **** 	rcu_periph_clock_enable(RCU_GPIOB);
  19              		.loc 1 12 11 is_stmt 0
  20 0000 4111     		addi	sp,sp,-16
  21              	.LCFI0:
  22              		.cfi_def_cfa_offset 16
  23              		.loc 1 13 2
  24 0002 13053060 		li	a0,1539
  12:main.c        **** 	rcu_periph_clock_enable(RCU_GPIOB);
  25              		.loc 1 12 11
  26 0006 06C6     		sw	ra,12(sp)
  27              		.cfi_offset 1, -4
  28              		.loc 1 13 2
  29 0008 97000000 		call	rcu_periph_clock_enable
  29      E7800000 
  30              	.LVL0:
  14:main.c        ****     gpio_init(GPIOB, GPIO_MODE_OUT_PP, GPIO_OSPEED_50MHZ, GPIO_PIN_0);
  31              		.loc 1 14 5 is_stmt 1
  32 0010 37150140 		li	a0,1073811456
  33 0014 8546     		li	a3,1
  34 0016 0D46     		li	a2,3
  35 0018 C145     		li	a1,16
  36 001a 130505C0 		addi	a0,a0,-1024
  37 001e 97000000 		call	gpio_init
  37      E7800000 
  38              	.LVL1:
  15:main.c        **** 
  16:main.c        **** 	eclic_global_interrupt_enable();
GAS LISTING /tmp/ccS4cf1i.s 			page 2


  39              		.loc 1 16 2
  40 0026 97000000 		call	eclic_global_interrupt_enable
  40      E7800000 
  41              	.LVL2:
  17:main.c        **** 	spi1_slave_init();
  42              		.loc 1 17 2
  43 002e 97000000 		call	spi1_slave_init
  43      E7800000 
  44              	.LVL3:
  18:main.c        **** 	timer1_init();
  45              		.loc 1 18 2
  46 0036 97000000 		call	timer1_init
  46      E7800000 
  47              	.LVL4:
  48              	.L2:
  19:main.c        **** 
  20:main.c        **** 	while(1){
  49              		.loc 1 20 2 discriminator 1
  21:main.c        **** 		// interrupts do the rest....
  22:main.c        **** 	}
  50              		.loc 1 22 2 discriminator 1
  51 003e 01A0     		j	.L2
  52              		.cfi_endproc
  53              	.LFE2:
  55              		.globl	test_spi_value_array
  56              		.section	.rodata.test_spi_value_array,"a"
  57              		.align	2
  60              	test_spi_value_array:
  61 0000 EC1F     		.half	8172
  62 0002 ED1F     		.half	8173
  63 0004 EE1F     		.half	8174
  64 0006 EF1F     		.half	8175
  65 0008 F01F     		.half	8176
  66 000a F11F     		.half	8177
  67 000c F21F     		.half	8178
  68 000e F31F     		.half	8179
  69 0010 F41F     		.half	8180
  70 0012 F51F     		.half	8181
  71 0014 F61F     		.half	8182
  72 0016 F71F     		.half	8183
  73 0018 F81F     		.half	8184
  74 001a F91F     		.half	8185
  75 001c FA1F     		.half	8186
  76 001e FB1F     		.half	8187
  77 0020 FC1F     		.half	8188
  78 0022 FD1F     		.half	8189
  79 0024 FE1F     		.half	8190
  80 0026 FF1F     		.half	8191
  81 0028 EC2F     		.half	12268
  82 002a ED2F     		.half	12269
  83 002c EE2F     		.half	12270
  84 002e EF2F     		.half	12271
  85 0030 F02F     		.half	12272
  86 0032 F12F     		.half	12273
  87 0034 F22F     		.half	12274
  88 0036 F32F     		.half	12275
  89 0038 F42F     		.half	12276
GAS LISTING /tmp/ccS4cf1i.s 			page 3


  90 003a F52F     		.half	12277
  91 003c F62F     		.half	12278
  92 003e F72F     		.half	12279
  93 0040 F82F     		.half	12280
  94 0042 F92F     		.half	12281
  95 0044 FA2F     		.half	12282
  96 0046 FB2F     		.half	12283
  97 0048 FC2F     		.half	12284
  98 004a FD2F     		.half	12285
  99 004c FE2F     		.half	12286
 100 004e FF2F     		.half	12287
 101              		.text
 102              	.Letext0:
 103              		.file 2 "/home/karzan/Documents/toolchain-gd32v-v202-linux/compiler/riscv64-unknown-elf/include/ma
 104              		.file 3 "/home/karzan/Documents/toolchain-gd32v-v202-linux/compiler/riscv64-unknown-elf/include/sy
 105              		.file 4 "../../firmware/GD32VF103_standard_peripheral/system_gd32vf103.h"
 106              		.file 5 "lib/SPI/include/spi.h"
 107              		.file 6 "../../firmware/GD32VF103_standard_peripheral/Include/gd32vf103_rcu.h"
 108              		.file 7 "../../firmware/GD32VF103_standard_peripheral/Include/gd32vf103_gpio.h"
 109              		.file 8 "../../firmware/GD32VF103_standard_peripheral/Include/gd32vf103_eclic.h"
 110              		.file 9 "lib/TIMER/include/timer.h"
GAS LISTING /tmp/ccS4cf1i.s 			page 4


DEFINED SYMBOLS
                            *ABS*:0000000000000000 main.c
     /tmp/ccS4cf1i.s:13     .text.startup.main:0000000000000000 main
     /tmp/ccS4cf1i.s:17     .text.startup.main:0000000000000000 .L0 
     /tmp/ccS4cf1i.s:18     .text.startup.main:0000000000000000 .L0 
     /tmp/ccS4cf1i.s:19     .text.startup.main:0000000000000000 .L0 
     /tmp/ccS4cf1i.s:20     .text.startup.main:0000000000000000 .L0 
     /tmp/ccS4cf1i.s:22     .text.startup.main:0000000000000002 .L0 
     /tmp/ccS4cf1i.s:24     .text.startup.main:0000000000000002 .L0 
     /tmp/ccS4cf1i.s:26     .text.startup.main:0000000000000006 .L0 
     /tmp/ccS4cf1i.s:27     .text.startup.main:0000000000000008 .L0 
     /tmp/ccS4cf1i.s:29     .text.startup.main:0000000000000008 .L0 
     /tmp/ccS4cf1i.s:32     .text.startup.main:0000000000000010 .L0 
     /tmp/ccS4cf1i.s:40     .text.startup.main:0000000000000026 .L0 
     /tmp/ccS4cf1i.s:43     .text.startup.main:000000000000002e .L0 
     /tmp/ccS4cf1i.s:46     .text.startup.main:0000000000000036 .L0 
     /tmp/ccS4cf1i.s:50     .text.startup.main:000000000000003e .L0 
     /tmp/ccS4cf1i.s:51     .text.startup.main:000000000000003e .L0 
     /tmp/ccS4cf1i.s:52     .text.startup.main:0000000000000040 .L0 
     /tmp/ccS4cf1i.s:60     .rodata.test_spi_value_array:0000000000000000 test_spi_value_array
     /tmp/ccS4cf1i.s:56     .text.startup.main:0000000000000040 .L0 
                     .debug_frame:0000000000000000 .L0 
     /tmp/ccS4cf1i.s:48     .text.startup.main:000000000000003e .L2
     /tmp/ccS4cf1i.s:477    .debug_abbrev:0000000000000000 .Ldebug_abbrev0
     /tmp/ccS4cf1i.s:763    .debug_str:0000000000000000 .LASF62
     /tmp/ccS4cf1i.s:867    .debug_str:000000000000030b .LASF63
     /tmp/ccS4cf1i.s:765    .debug_str:0000000000000088 .LASF64
     /tmp/ccS4cf1i.s:755    .debug_ranges:0000000000000000 .Ldebug_ranges0
     /tmp/ccS4cf1i.s:761    .debug_line:0000000000000000 .Ldebug_line0
     /tmp/ccS4cf1i.s:845    .debug_str:0000000000000296 .LASF0
     /tmp/ccS4cf1i.s:839    .debug_str:000000000000026a .LASF1
     /tmp/ccS4cf1i.s:893    .debug_str:000000000000039a .LASF4
     /tmp/ccS4cf1i.s:829    .debug_str:0000000000000229 .LASF2
     /tmp/ccS4cf1i.s:789    .debug_str:0000000000000142 .LASF3
     /tmp/ccS4cf1i.s:787    .debug_str:0000000000000137 .LASF5
     /tmp/ccS4cf1i.s:853    .debug_str:00000000000002be .LASF6
     /tmp/ccS4cf1i.s:803    .debug_str:0000000000000197 .LASF7
     /tmp/ccS4cf1i.s:783    .debug_str:0000000000000124 .LASF8
     /tmp/ccS4cf1i.s:869    .debug_str:0000000000000312 .LASF9
     /tmp/ccS4cf1i.s:781    .debug_str:0000000000000116 .LASF10
     /tmp/ccS4cf1i.s:841    .debug_str:0000000000000276 .LASF11
     /tmp/ccS4cf1i.s:791    .debug_str:000000000000014c .LASF12
     /tmp/ccS4cf1i.s:847    .debug_str:00000000000002a3 .LASF13
     /tmp/ccS4cf1i.s:843    .debug_str:000000000000028d .LASF14
     /tmp/ccS4cf1i.s:859    .debug_str:00000000000002e3 .LASF53
     /tmp/ccS4cf1i.s:793    .debug_str:0000000000000154 .LASF15
     /tmp/ccS4cf1i.s:861    .debug_str:00000000000002f3 .LASF16
     /tmp/ccS4cf1i.s:889    .debug_str:000000000000038c .LASF17
     /tmp/ccS4cf1i.s:887    .debug_str:0000000000000383 .LASF18
     /tmp/ccS4cf1i.s:881    .debug_str:000000000000035f .LASF19
     /tmp/ccS4cf1i.s:813    .debug_str:00000000000001c6 .LASF20
     /tmp/ccS4cf1i.s:815    .debug_str:00000000000001d1 .LASF21
     /tmp/ccS4cf1i.s:817    .debug_str:00000000000001dc .LASF22
     /tmp/ccS4cf1i.s:819    .debug_str:00000000000001e7 .LASF23
     /tmp/ccS4cf1i.s:821    .debug_str:00000000000001f2 .LASF24
     /tmp/ccS4cf1i.s:823    .debug_str:00000000000001fd .LASF25
     /tmp/ccS4cf1i.s:799    .debug_str:000000000000016f .LASF26
GAS LISTING /tmp/ccS4cf1i.s 			page 5


     /tmp/ccS4cf1i.s:807    .debug_str:00000000000001a9 .LASF27
     /tmp/ccS4cf1i.s:809    .debug_str:00000000000001b2 .LASF28
     /tmp/ccS4cf1i.s:877    .debug_str:0000000000000349 .LASF29
     /tmp/ccS4cf1i.s:879    .debug_str:0000000000000354 .LASF30
     /tmp/ccS4cf1i.s:849    .debug_str:00000000000002ac .LASF31
     /tmp/ccS4cf1i.s:885    .debug_str:0000000000000379 .LASF32
     /tmp/ccS4cf1i.s:855    .debug_str:00000000000002d1 .LASF33
     /tmp/ccS4cf1i.s:857    .debug_str:00000000000002da .LASF34
     /tmp/ccS4cf1i.s:795    .debug_str:000000000000015d .LASF35
     /tmp/ccS4cf1i.s:797    .debug_str:0000000000000166 .LASF36
     /tmp/ccS4cf1i.s:837    .debug_str:0000000000000261 .LASF37
     /tmp/ccS4cf1i.s:851    .debug_str:00000000000002b6 .LASF38
     /tmp/ccS4cf1i.s:863    .debug_str:00000000000002fc .LASF39
     /tmp/ccS4cf1i.s:785    .debug_str:000000000000012f .LASF40
     /tmp/ccS4cf1i.s:865    .debug_str:0000000000000304 .LASF41
     /tmp/ccS4cf1i.s:769    .debug_str:00000000000000df .LASF42
     /tmp/ccS4cf1i.s:771    .debug_str:00000000000000e9 .LASF43
     /tmp/ccS4cf1i.s:773    .debug_str:00000000000000f3 .LASF44
     /tmp/ccS4cf1i.s:775    .debug_str:00000000000000fd .LASF45
     /tmp/ccS4cf1i.s:777    .debug_str:0000000000000107 .LASF46
     /tmp/ccS4cf1i.s:833    .debug_str:000000000000024f .LASF47
     /tmp/ccS4cf1i.s:835    .debug_str:0000000000000258 .LASF48
     /tmp/ccS4cf1i.s:811    .debug_str:00000000000001bb .LASF49
     /tmp/ccS4cf1i.s:805    .debug_str:00000000000001a0 .LASF50
     /tmp/ccS4cf1i.s:875    .debug_str:000000000000033e .LASF51
     /tmp/ccS4cf1i.s:827    .debug_str:000000000000021d .LASF52
     /tmp/ccS4cf1i.s:871    .debug_str:0000000000000324 .LASF54
     /tmp/ccS4cf1i.s:891    .debug_str:0000000000000394 .LASF55
     /tmp/ccS4cf1i.s:825    .debug_str:0000000000000208 .LASF56
     /tmp/ccS4cf1i.s:779    .debug_str:0000000000000111 .LASF65
     /tmp/ccS4cf1i.s:14     .text.startup.main:0000000000000000 .LFB2
     /tmp/ccS4cf1i.s:53     .text.startup.main:0000000000000040 .LFE2
     /tmp/ccS4cf1i.s:729    .debug_loc:0000000000000000 .LLST0
     /tmp/ccS4cf1i.s:30     .text.startup.main:0000000000000010 .LVL0
     /tmp/ccS4cf1i.s:38     .text.startup.main:0000000000000026 .LVL1
     /tmp/ccS4cf1i.s:41     .text.startup.main:000000000000002e .LVL2
     /tmp/ccS4cf1i.s:44     .text.startup.main:0000000000000036 .LVL3
     /tmp/ccS4cf1i.s:47     .text.startup.main:000000000000003e .LVL4
     /tmp/ccS4cf1i.s:831    .debug_str:0000000000000237 .LASF57
     /tmp/ccS4cf1i.s:873    .debug_str:0000000000000334 .LASF58
     /tmp/ccS4cf1i.s:801    .debug_str:0000000000000179 .LASF59
     /tmp/ccS4cf1i.s:883    .debug_str:0000000000000369 .LASF60
     /tmp/ccS4cf1i.s:767    .debug_str:00000000000000d3 .LASF61
     /tmp/ccS4cf1i.s:21     .text.startup.main:0000000000000002 .LCFI0
     /tmp/ccS4cf1i.s:112    .debug_info:0000000000000000 .Ldebug_info0

UNDEFINED SYMBOLS
rcu_periph_clock_enable
gpio_init
eclic_global_interrupt_enable
spi1_slave_init
timer1_init
